<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Installing Beleth on OpenBSD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="efek0349">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.dark.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.dark.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="Efek Blog ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">Efek Blog </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="/category/hello.html">
						<i class="icon-folder-open icon-large"></i>hello
					</a>
                  </li>
                  <li >
                    <a href="/category/kali.html">
						<i class="icon-folder-open icon-large"></i>Kali
					</a>
                  </li>
                  <li class="active">
                    <a href="/category/openbsd.html">
						<i class="icon-folder-open icon-large"></i>OpenBSD
					</a>
                  </li>
                  <li >
                    <a href="/category/xiaomi.html">
						<i class="icon-folder-open icon-large"></i>Xiaomi
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to Installing Beleth on OpenBSD">
                                        Installing Beleth on OpenBSD
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2024-07-28T01:48:00+03:00">
        <i class="icon-calendar"></i>Sun 28 July 2024
</abbr>
<span class="label">By</span>
<a href="/author/efek0349.html"><i class="icon-user"></i>efek0349</a>
<span class="label">Category</span>
<a href="/category/openbsd.html"><i class="icon-folder-open"></i>OpenBSD</a>.


<span class="label">Tags</span>
	<a href="/tag/beleth.html"><i class="icon-tag"></i>Beleth</a>
	<a href="/tag/ssh.html"><i class="icon-tag"></i>SSH</a>
	<a href="/tag/brute-force.html"><i class="icon-tag"></i>Brute force</a>
	<a href="/tag/openbsd.html"><i class="icon-tag"></i>OpenBSD</a>
	<a href="/tag/kali.html"><i class="icon-tag"></i>Kali</a>
</footer><!-- /.post-info -->                </div>
                <p>This guide will walk you through the steps to install Beleth on OpenBSD, from cloning the repository to building the program. It will also cover how to resolve common build errors.</p>
<p>Step 1: Clone the Repository.</p>
<p>First, clone the Beleth repository from GitHub to your local machine.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/chokepoint/Beleth
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>Beleth
</code></pre></div>

<p>Step 2: Build the Program</p>
<p>Attempt to build the program using make.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>beleth.c
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>lists.c
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>ssh.c
cc<span class="w"> </span>beleth.o<span class="w"> </span>lists.o<span class="w"> </span>ssh.o<span class="w">  </span>-L/usr/local/lib/<span class="w"> </span>-lssh2<span class="w"> </span>-o<span class="w"> </span>beleth
ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>verbose
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>verbose<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>ssh.c
&gt;&gt;&gt;<span class="w">            </span>ssh.o:<span class="o">(</span>.bss+0x0<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>t_current
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>t_current<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>ssh.c
&gt;&gt;&gt;<span class="w">            </span>ssh.o:<span class="o">(</span>.bss+0x8<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>pw_head
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>pw_head<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>ssh.c
&gt;&gt;&gt;<span class="w">            </span>ssh.o:<span class="o">(</span>.bss+0x10<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>pw_tail
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>pw_tail<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>ssh.c
&gt;&gt;&gt;<span class="w">            </span>ssh.o:<span class="o">(</span>.bss+0x18<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>pw_tail
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>pw_tail<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>lists.c
&gt;&gt;&gt;<span class="w">            </span>lists.o:<span class="o">(</span>.bss+0x8<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>pw_head
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>pw_head<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>lists.c
&gt;&gt;&gt;<span class="w">            </span>lists.o:<span class="o">(</span>.bss+0x10<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>verbose
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>verbose<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>lists.c
&gt;&gt;&gt;<span class="w">            </span>lists.o:<span class="o">(</span>.bss+0x0<span class="o">)</span>

ld:<span class="w"> </span>error:<span class="w"> </span>duplicate<span class="w"> </span>symbol:<span class="w"> </span>t_current
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>beleth.c
&gt;&gt;&gt;<span class="w">            </span>beleth.o:<span class="o">(</span>t_current<span class="o">)</span>
&gt;&gt;&gt;<span class="w"> </span>defined<span class="w"> </span>at<span class="w"> </span>lists.c
&gt;&gt;&gt;<span class="w">            </span>lists.o:<span class="o">(</span>.bss+0x18<span class="o">)</span>
cc:<span class="w"> </span>error:<span class="w"> </span>linker<span class="w"> </span><span class="nb">command</span><span class="w"> </span>failed<span class="w"> </span>with<span class="w"> </span><span class="nb">exit</span><span class="w"> </span>code<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>use<span class="w"> </span>-v<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>invocation<span class="o">)</span>
***<span class="w"> </span>Error<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/efek/code/Beleth<span class="w"> </span><span class="o">(</span>Makefile:7<span class="w"> </span><span class="s1">&#39;beleth&#39;</span><span class="o">)</span>
</code></pre></div>

<blockquote>
<p>The reason you don't encounter this issue with GCC 4.9 is that different compiler
versions handle symbol management and linking processes differently. Newer versions
of GCC tend to enforce stricter rules, which can lead to errors when the same
symbol is defined multiple times.</p>
</blockquote>
<p>Step 3: Resolving Build Errors</p>
<p>If you encounter errors like duplicate symbol definitions, you'll need to adjust the code to ensure variables are correctly declared and used across different source files.</p>
<p>Error: Duplicate Symbol Definitions</p>
<p>The error messages indicate that there are multiple definitions of variables such as verbose, pw_tail, pw_head, and t_current. To resolve this, you should adjust the code to ensure these variables are declared properly.</p>
<p>Remove Duplicate Definitions
Ensure that the variables are declared as extern in a header file and defined only once in a source file.</p>
<p>beleth.h</p>
<div class="highlight"><pre><span></span><code>extern int verbose;
</code></pre></div>

<p>lists.h</p>
<div class="highlight"><pre><span></span><code>extern struct t_ctx *t_current;
extern struct pw_list *pw_head;
extern struct pw_list *pw_tail;
</code></pre></div>

<p>Include this header file in beleth.c.</p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span><span class="n">beleth</span><span class="o">.</span><span class="n">c</span>
<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">verbose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Define</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span>
<span class="n">struct</span><span class="w"> </span><span class="n">pw_list</span><span class="w"> </span><span class="o">*</span><span class="n">pw_head</span><span class="p">;</span>
<span class="n">struct</span><span class="w"> </span><span class="n">pw_list</span><span class="w"> </span><span class="o">*</span><span class="n">pw_tail</span><span class="p">;</span>
<span class="n">struct</span><span class="w"> </span><span class="n">t_ctx</span><span class="w"> </span><span class="o">*</span><span class="n">t_current</span><span class="p">;</span>
</code></pre></div>

<p>Ensure Correct Variable Usage
Make sure the variables are used consistently and correctly across the source files.</p>
<p>Step 4: Rebuild the Program</p>
<p>After making the above changes, attempt to build the program again.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>make
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>beleth.c
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>lists.c
cc<span class="w"> </span>-O2<span class="w"> </span>-pipe<span class="w">  </span>-Wall<span class="w"> </span>-I/usr/local/include<span class="w">  </span>-c<span class="w"> </span>ssh.c
cc<span class="w"> </span>beleth.o<span class="w"> </span>lists.o<span class="w"> </span>ssh.o<span class="w">  </span>-L/usr/local/lib<span class="w"> </span>-lssh2<span class="w"> </span>-o<span class="w"> </span>beleth
</code></pre></div>

<p>If the build completes successfully, you should have an executable named beleth.</p>
<p>Conclusion</p>
<p>By following these steps, you should be able to clone the Beleth repository, build the program, and resolve any symbol definition errors. If you encounter additional errors or issues, reviewing the specific error messages and adjusting the code as needed will be necessary.</p>
                </div><!-- /.entry-content -->
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="https://github.com/efek0349/e480-opencore"><i class="icon-external-link"></i>MacOS-e480 opencore</a></li>
    <li><a href="https://github.com/efek0349/dotfiles"><i class="icon-external-link"></i>dotfiles</a></li>
    <li><a href="https://github.com/efek0349/obsd-progs"><i class="icon-external-link"></i>obsd-ports</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="https://t.me/efek0349"><i class="icon-telegram-sign icon-large"></i>telegram</a></li>
    <li><a href="https://twitter.com/efek0349"><i class="icon-X-sign icon-large"></i>X</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/hello.html">
    <i class="icon-folder-open icon-large"></i>hello
</a>
</li>
<li>
<a href="/category/kali.html">
    <i class="icon-folder-open icon-large"></i>Kali
</a>
</li>
<li>
<a href="/category/openbsd.html">
    <i class="icon-folder-open icon-large"></i>OpenBSD
</a>
</li>
<li>
<a href="/category/xiaomi.html">
    <i class="icon-folder-open icon-large"></i>Xiaomi
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
					Email: kndmrefe@gmail.com GPG: 0xC9E85BA0E9E1BACE
        </address><!-- /#about -->

      </footer>

    </div><!--/.fluid-container-->



    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>